# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ GitHub

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitHub" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!", –Ω–æ —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ GitHub.

## –ü—Ä–∏—á–∏–Ω–∞
–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `GITHUB_TOKEN` –∏ `GITHUB_REPO` –≤ Cloudflare Pages.

## –†–µ—à–µ–Ω–∏–µ: –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å GitHub Personal Access Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ: **https://github.com/settings/tokens**
2. –ù–∞–∂–º–∏—Ç–µ **"Generate new token"** ‚Üí **"Generate new token (classic)"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Note**: `youtube-feed-cloudflare` (–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —Å–µ–±—è)
   - **Expiration**: `No expiration` (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫)
   - **Scopes**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ—Ç—å—Ç–µ ‚úÖ **`repo`** (Full control of private repositories)
4. –ù–∞–∂–º–∏—Ç–µ **"Generate token"**
5. **–í–ê–ñ–ù–û**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω —Å—Ä–∞–∑—É! –í—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –µ–≥–æ —Å–Ω–æ–≤–∞
   - –§–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞: `ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Cloudflare Pages

1. –û—Ç–∫—Ä–æ–π—Ç–µ: **https://dash.cloudflare.com/**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Workers & Pages** ‚Üí **youtube-feed**
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É: **Settings**
4. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é: **Environment variables**
5. –ù–∞–∂–º–∏—Ç–µ **"Add variables"**

#### –î–æ–±–∞–≤—å—Ç–µ –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 1:**
- **Variable name**: `GITHUB_TOKEN`
- **Value**: –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`)
- **Environment**: `Production` ‚úÖ

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 2:**
- **Variable name**: `GITHUB_REPO`
- **Value**: `TFWidgets/youtube-feed`
- **Environment**: `Production` ‚úÖ

6. –ù–∞–∂–º–∏—Ç–µ **"Save"**

### –®–∞–≥ 3: Redeploy –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

1. –í Cloudflare Pages –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Deployments"**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏—Ç–µ **"¬∑¬∑¬∑"** (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí **"Retry deployment"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è (–æ–±—ã—á–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: **https://youtube-feed.pages.dev/admin.html**
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å ID: `test-auto-save`
3. –î–æ–±–∞–≤—å—Ç–µ 1-2 –≤–∏–¥–µ–æ URL
4. –ù–∞–∂–º–∏—Ç–µ **"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitHub"**
5. –ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   ```
   ‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!
   Config ID: test-auto-save
   ```
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/TFWidgets/youtube-feed/tree/main/configs
   - –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª: `test-auto-save.json`
   - –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub API

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):
```javascript
// –í —Ñ—É–Ω–∫—Ü–∏–∏ /api/save-to-github.js (—Å—Ç—Ä–æ–∫–∞ 60-93)
if (!env.GITHUB_TOKEN || !env.GITHUB_REPO) {
    console.warn('GitHub integration not configured.');
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç success, –Ω–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ GitHub
    return { success: true, message: '...' }; // ‚ö†Ô∏è –õ–æ–∂–Ω—ã–π —É—Å–ø–µ—Ö!
}
```

### –° —Ç–æ–∫–µ–Ω–æ–º (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏):
```javascript
// –°—Ç—Ä–æ–∫–∞ 96-169
// 1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª –≤ GitHub
const getResponse = await fetch(getFileUrl, {
    headers: { 'Authorization': `Bearer ${env.GITHUB_TOKEN}` }
});

// 2. –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ GitHub API
const githubResponse = await fetch(createUpdateUrl, {
    method: 'PUT',
    body: JSON.stringify({
        message: 'Add config: test-auto-save',
        content: base64EncodedConfig
    })
});

// 3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
return {
    success: true,
    githubUrl: 'https://github.com/TFWidgets/youtube-feed/blob/main/configs/test-auto-save.json'
};
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ:
- –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Cloudflare
- –ù–µ –≤–∏–¥–µ–Ω –≤ –∫–æ–¥–µ
- –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

### ‚ö†Ô∏è –ù–ï –¥–µ–ª–∞–π—Ç–µ:
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –∫–æ–¥
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–º –ø—É–±–ª–∏—á–Ω–æ

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub —Ç–æ–∫–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å–º–æ–∂–µ—Ç:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏** - –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitHub"
2. **–û–±–Ω–æ–≤–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏** - –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ GitHub** - –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** - Cloudflare Pages –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –≤ GitHub:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π**: Cloudflare Pages –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**: https://dash.cloudflare.com/ ‚Üí Workers & Pages ‚Üí youtube-feed ‚Üí Deployments
3. **–ì–æ—Ç–æ–≤–æ —á–µ—Ä–µ–∑**: ~1-2 –º–∏–Ω—É—Ç—ã
4. **–î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É**: https://youtube-feed.pages.dev/configs/YOUR-CONFIG-ID.json

## Troubleshooting

### –û—à–∏–±–∫–∞: "GitHub API error: 401"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (`repo` scope)

### –û—à–∏–±–∫–∞: "GitHub API error: 404"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `GITHUB_REPO` = `TFWidgets/youtube-feed`

### –ö–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è, –Ω–æ –Ω–µ –≤–∏–¥–µ–Ω –Ω–∞ —Å–∞–π—Ç–µ
- **–ü—Ä–∏—á–∏–Ω–∞**: Cloudflare Pages –µ—â–µ –¥–µ–ø–ª–æ–∏—Ç—Å—è
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!", –Ω–æ —Ñ–∞–π–ª–∞ –Ω–µ—Ç
- **–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Cloudflare Pages

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: KV Storage (–±–µ–∑ GitHub)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å GitHub —Ç–æ–∫–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare KV:

1. –°–æ–∑–¥–∞–π—Ç–µ KV namespace –≤ Cloudflare
2. –î–æ–±–∞–≤—å—Ç–µ binding –≤ `wrangler.toml`: `YOUTUBE_CONFIGS`
3. –ö–æ–Ω—Ñ–∏–≥–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ KV (–±–µ–∑ –∫–æ–º–º–∏—Ç–æ–≤ –≤ GitHub)

**–ú–∏–Ω—É—Å—ã KV –ø–æ–¥—Ö–æ–¥–∞**:
- –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–µ—Ç –±—ç–∫–∞–ø–æ–≤ –≤ GitHub
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ version control

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Cloudflare Pages Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12) ‚Üí Console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç API: `/api/save-to-github`

---

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üöÄ
